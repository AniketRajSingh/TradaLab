<section class="what-we-provide py-5">
    <div class="container">
        <hr>
        <h2 class="text-center mb-4">Aim : To study the properties of acetic acid (ethanoic acid).</h2>
        <hr>
        <br>
        <div class="container">
            <div class="experiment-panel">
                <h3>Theory:</h3>
                <p>The chemical name of acetic acid is ethanoic acid, and its chemical formula is CH3COOH. The COOH
                    group is called
                    the carboxylic group, which is responsible for the properties of ethanoic acid. This acid freezes at
                    16.6Â°C, hence
                    it is called glacial acetic acid. It smells like vinegar and dissolves in water. It is a weak acid
                    as it dissociates
                    particularly in water. It reacts with alcohol to obtain an ester and reacts with sodium bicarbonate
                    to give carbon
                    dioxide gas.</p>
            </div>

            <div class="experiment-panel">
                <h3>Procedure:</h3>
                <h4>To determine the odour:</h4>
                <ol>
                    <li>Take a test tube of 10 mL.</li>
                    <li>Add 5 mL of ethanoic acid into it.</li>
                    <li>Bring the test tube near your nose and smell it by wafting.</li>
                </ol>

                <h4>To check the solubility in water:</h4>
                <ol>
                    <li>Take a test tube of 20 mL.</li>
                    <li>Add 2 mL of ethanoic acid to it.</li>
                    <li>Pour 10-15 mL of distilled water and mix it.</li>
                </ol>

                <h4>To determine the effect on litmus:</h4>
                <ol>
                    <li>Take a clean dropper.</li>
                    <li>Take a blue litmus paper.</li>
                    <li>Pour 2-3 drops of ethanoic acid on the litmus paper.</li>
                </ol>

                <h4>Reaction with sodium bicarbonate:</h4>
                <ol>
                    <li>Take a test tube of 5 mL.</li>
                    <li>Add a pinch of sodium bicarbonate to it.</li>
                    <li>Pour 1 mL of dilute ethanoic acid into the test tube.</li>
                    <li>To the mouth of the test tube, fix a cork with a bent delivery tube.</li>
                    <li>The other end of the delivery tube is required to be dipped in lime water.</li>
                </ol>
            </div>
            <br>
            <hr>
            <h2>Explore a Virtual Experiment Environment for Enhanced Understanding</h2>
            <hr>
            <br>
            <div class="experiment-panel p-5">
                <h4 class="mb-4">Procedure for the Virtual Lab:</h4>
                <ol>
                    <li>Examine the labeled test tubes containing different solutions.</li>
                    <li>Drag and release each test tube onto the pH paper.</li>
                    <li>Observe the fascinating color transformation on the pH paper.</li>
                    <li>The observations will be dynamically recorded for future reference.</li>
                </ol>
            </div>
            <div class="experiment-selection experiment-panel">
                <h3>Choose an Experiment:</h3>
                <div class="card-deck">
                    <div class="card experiment-card selected" data-experiment="1">
                        <div class="card-body">
                            <h5 class="card-title">Experiment 1</h5>
                            <p class="card-text">Description of Experiment 1</p>
                        </div>
                    </div>
                    <div class="card experiment-card" data-experiment="2">
                        <div class="card-body">
                            <h5 class="card-title">Experiment 2</h5>
                            <p class="card-text">Description of Experiment 2</p>
                        </div>
                    </div>
                    <div class="card experiment-card" data-experiment="3">
                        <div class="card-body">
                            <h5 class="card-title">Experiment 3</h5>
                            <p class="card-text">Description of Experiment 3</p>
                        </div>
                    </div>
                    <div class="card experiment-card" data-experiment="4">
                        <div class="card-body">
                            <h5 class="card-title">Experiment 4</h5>
                            <p class="card-text">Description of Experiment 4</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="experiment-environment-container" data-selected-experiment="1">
                <div class="experiment-panel p-5">
                    <h4 class="mb-4">Procedure for Experiment 1:</h4>
                    <ol>
                        <li>Drag and release test tube onto the Experiment Area.</li>
                        <li>Drag and release Ethanoic Acid onto the Test Tube.</li>
                        <li>Press smell button to observe the smell that is released by the acid.</li>
                    </ol>
                </div>
                <h3 id="lab-watermark">LAB AREA</h3>
                <div class="experiment-environment">
                    <div class="left-area">
                        <div class="material-box">
                            <h4>Tools</h4>
                            <div class="Item-container">
                                <img id="testtube" style="height: 50px;"
                                    src="https://cdn-icons-png.flaticon.com/512/10163/10163761.png" alt="Test Tube">
                                <span>Test Tube</span>
                            </div>
                        </div>
                        <div class="material-box">
                            <h4>Elements</h4>
                            <div class="Item-container">
                                <img id="ethanoic-acid" style="height: 50px;"
                                    src="https://i.ibb.co/bLfpCC5/ethanoic-acid.png" alt="Ethanoic Acid">
                                <span>Ethanoic Acid</span>
                            </div>
                        </div>
                    </div>
                    <div class="drop-box">
                        <div class="image-holder">

                        </div>
                        <div class="image-holder-smoke">

                        </div>
                    </div>
                    <button class="smell-btn">Smell Test</button>
                </div>
            </div>
            <div class="experiment-environment-container" data-selected-experiment="2" style="display: none;">
                <div class="experiment-panel p-5">
                    <h4 class="mb-4">Procedure for Experiment 2:</h4>
                    <ol>
                        <li>Drag and release test tube onto the Experiment Area.</li>
                        <li>Drag and release Ethanoic Acid onto the Test Tube.</li>
                        <li>Press smell button to observe the smell that is released by the acid.</li>
                    </ol>
                </div>
                <h3 id="lab-watermark">LAB AREA</h3>
                <div class="experiment-environment">
                    <div class="left-area">
                        <div class="material-box">
                            <h4>Tools</h4>
                            <div class="Item-container">
                                <img id="testtube1" style="height: 50px;"
                                    src="https://cdn-icons-png.flaticon.com/512/10163/10163761.png" alt="Test Tube">
                                <span>Test Tube</span>
                            </div>
                        </div>
                        <div class="material-box">
                            <h4>Elements</h4>
                            <div class="Item-container">
                                <img id="ethanoic-acid1" style="height: 50px;"
                                    src="https://i.ibb.co/bLfpCC5/ethanoic-acid.png" alt="Ethanoic Acid">
                                <span>Ethanoic Acid</span>
                            </div>
                            <br>
                            <div class="Item-container">
                                <img id="water1" style="height: 50px;"
                                    src="https://cdn-icons-png.flaticon.com/512/723/723523.png" alt="Water">
                                <span>Water</span>
                            </div>

                        </div>
                    </div>
                    <div class="drop-box drop-box1">
                        <div class="image-holder image-holder1">

                        </div>
                    </div>
                    <button class="shake-btn">Shake Test</button>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        
        // Variables for id names
        var testTubeId = 'testtube';
        var ethanoicAcidId = 'ethanoic-acid';
        var waterId = 'water1';

        // Variables for class names
        var experimentEnvironmentClass = '.experiment-environment-container';
        var experimentCardClass = '.experiment-card';
        var dropBoxClass = '.drop-box';
        var imageHolderClass = '.image-holder';
        var imageHolderSmokeClass = '.image-holder-smoke';
        var smellButtonClass = '.smell-btn';


      // Function to show the selected experiment environment
      function showSelectedExperiment(selectedExperiment) {
        const experimentEnvironments = document.querySelectorAll(experimentEnvironmentClass);
        experimentEnvironments.forEach((environment) => {
          if (environment.dataset.selectedExperiment === selectedExperiment) {
            environment.style.display = 'block';
          } else {
            environment.style.display = 'none';
          }
        });
      }
  
      // Function to handle the click event on experiment cards
      function handleCardClick(card) {
        // Remove the "selected" class from all cards
        const experimentCards = document.querySelectorAll(experimentCardClass);
        experimentCards.forEach((card) => {
          card.classList.remove('selected');
        });
  
        // Add the "selected" class to the clicked card
        card.classList.add('selected');
  
        // Get the selected experiment from the data attribute
        const selectedExperiment = card.dataset.experiment;
  
        // Show the selected experiment environment
        showSelectedExperiment(selectedExperiment);
      }
  
      // Function to handle dragstart event for test tube
      function handleTestTubeDragStart(event) {
        // Set the data being dragged (in this case, the ID of the item and the image URL)
        event.dataTransfer.setData('text/plain', JSON.stringify({
          itemId: testTubeId,
          imageUrl: 'https://cdn-icons-png.flaticon.com/512/8586/8586401.png'
        }));
        isTestTubeDragged = true; // Set the flag to true when the test tube is dragged
        isEthanoicAcidDragged = false;
      }
  
      // Function to handle dragstart event for ethanoic acid
      function handleEthanoicAcidDragStart(event) {
        // Prevent dragging the ethanoic acid when the test tube is not dragged
        if (!isTestTubeDragged) {
          event.preventDefault();
        } else {
          // Set the data being dragged (in this case, the ID of the item and the image URL)
          event.dataTransfer.setData('text/plain', JSON.stringify({
            itemId: ethanoicAcidId,
            imageUrl: 'https://cdn-icons-png.flaticon.com/512/8586/8586447.png'
          }));
          isEthanoicAcidDragged = true; // Set the flag to true when ethanoic acid is dragged
          document.querySelector(smellButtonClass).removeAttribute('disabled');
        }
      }
  
      // Function to handle dragstart event for water
      function handleWaterDragStart(event) {
        // Prevent dragging water when the test tube is not dragged
        if (!isTestTubeDragged) {
          event.preventDefault();
        } else {
          // Set the data being dragged (in this case, the ID of the item and the image URL)
          event.dataTransfer.setData('text/plain', JSON.stringify({
            itemId: waterId,
            imageUrl: 'https://cdn-icons-png.flaticon.com/512/723/723523.png'
          }));
          document.querySelector(smellButtonClass).removeAttribute('disabled');
        }
      }
  
      // Function to handle dragover event for the image holder
      function handleImageHolderDragOver(event) {
        // Prevent default behavior to allow drop
        event.preventDefault();
      }
  
      // Function to handle drop event for the image holder
      function handleImageHolderDrop(event) {
        // Prevent default behavior to avoid opening the dropped element as a URL
        event.preventDefault();
  
        // Get the data of the dragged item
        const draggedData = JSON.parse(event.dataTransfer.getData('text'));
  
        // Check if the dragged item is test tube
        if (draggedData.itemId === testTubeId) {
          // Remove any existing image elements from the image holder
          while (imageHolder.firstChild) {
            imageHolder.removeChild(imageHolder.firstChild);
          }
          while (imageHolderSmoke.firstChild) {
            imageHolderSmoke.removeChild(imageHolderSmoke.firstChild);
          }
  
          // Create an image element and set the image source to the dragged item's image URL
          const imageElement = document.createElement('img');
          imageElement.src = draggedData.imageUrl;
          imageElement.style.height = '100%'; // Adjust image size to fill the image-holder
  
          // Append the new image element to the image holder
          imageHolder.appendChild(imageElement);
        }
      }
  
      // Function to handle drop event for the image holder with ethanoic acid and water
      function handleImageHolderWithEthanoicAcidWaterDrop(event) {
        // Prevent default behavior to avoid opening the dropped element as a URL
        event.preventDefault();
  
        // Get the data of the dragged item
        const draggedData = JSON.parse(event.dataTransfer.getData('text'));
  
        // Check if the dragged item is water or ethanoic acid
        if (draggedData.itemId === waterId || draggedData.itemId === ethanoicAcidId) {
          // Remove any existing image elements from the image holder
          while (imageHolder.firstChild) {
            imageHolder.removeChild(imageHolder.firstChild);
          }
  
          // Create an image element and set the image source to the dragged item's image URL
          const imageElement = document.createElement('img');
          imageElement.src = draggedData.imageUrl;
          imageElement.style.height = '100%'; // Adjust image size to fill the image-holder
  
          // Append the new image element to the image holder
          imageHolder.appendChild(imageElement);
  
          // If ethanoic acid is dropped, also add the smoke image
          if (draggedData.itemId === ethanoicAcidId) {
            const imageElementSmoke = document.createElement('img');
            imageElementSmoke.src = 'https://i.giphy.com/media/SSPyzPAmc8IpzW31zm/giphy.webp';
            imageElementSmoke.style.height = '200px'; // Adjust image size to fill the image-holder
  
            // Append the new smoke image element to the smoke image holder
            imageHolderSmoke.appendChild(imageElementSmoke);
          }
        }
      }
  
      // Function to show a custom popup with the provided message
      function showPopup(message) {
        const popup = document.createElement('div');
        popup.className = 'popup';
        popup.textContent = message;
  
        const closeButton = document.createElement('button');
        closeButton.className = 'close-btn';
        closeButton.textContent = 'X';
  
        closeButton.addEventListener('click', function () {
          // Close the popup when the "Close" button is clicked
          document.body.removeChild(popup);
        });
  
        popup.appendChild(closeButton);
        document.body.appendChild(popup);
      }
  
      // Get all the experiment cards
      const experimentCards = document.querySelectorAll(experimentCardClass);
  
      // Add click event listeners to the experiment cards
      experimentCards.forEach((card) => {
        card.addEventListener('click', function () {
          handleCardClick(card);
        });
      });
  
      // Get the image holder
      const dropbox = document.querySelector(dropBoxClass);
      const imageHolder = document.querySelector(imageHolderClass);
      const imageHolderSmoke = document.querySelector(imageHolderSmokeClass);
  
      // Get the items to be dragged
      const testTube = document.getElementById(testTubeId);
      const ethanoicAcid = document.getElementById(ethanoicAcidId);
      const water = document.getElementById(waterId);
  
      let isTestTubeDragged = false; // Flag to track if test tube is dragged
      let isEthanoicAcidDragged = false; // Flag to track if ethanoic acid is dragged
  
      // Add dragstart event listener to the test tube
      testTube.addEventListener('dragstart', handleTestTubeDragStart);
  
      // Add dragstart event listener to ethanoic acid
      ethanoicAcid.addEventListener('dragstart', handleEthanoicAcidDragStart);
  
      // Add dragstart event listener to water
      water.addEventListener('dragstart', handleWaterDragStart);
  
      // Add dragover event listener to the image holder
      dropbox.addEventListener('dragover', handleImageHolderDragOver);
  
      // Add drop event listener to the image holder
      dropbox.addEventListener('drop', handleImageHolderDrop);
  
      // Add drop event listener to the image holder
      imageHolder.addEventListener('drop', handleImageHolderWithEthanoicAcidWaterDrop);
  
      // Get the "Smell" button
      const smellButton = document.querySelector(smellButtonClass);
  
      // Add click event listener to the "Smell" button
      smellButton.addEventListener('click', function () {
        // Show the custom popup with the appropriate message based on the flags
        if (isEthanoicAcidDragged) {
          showPopup('Pungent/ Vinegar Like Smell is coming');
        } else {
          showPopup('No smell');
        }
      });
    });
  </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {

        // Variables for id names
        var testTubeId = 'testtube1';
        var ethanoicAcidId = 'ethanoic-acid1';
        var waterId = 'water1';

        // Variables for class names
        var experimentEnvironmentClass = '.experiment-environment-container';
        var experimentCardClass = '.experiment-card';
        var dropBoxClass = '.drop-box1';
        var imageHolderClass = '.image-holder1';
        var shakeButtonClass = '.shake-btn';


        // Function to show the selected experiment environment
        function showSelectedExperiment(selectedExperiment) {
            const experimentEnvironments = document.querySelectorAll(experimentEnvironmentClass);
            experimentEnvironments.forEach((environment) => {
                if (environment.dataset.selectedExperiment === selectedExperiment) {
                    environment.style.display = 'block';
                } else {
                    environment.style.display = 'none';
                }
            });
        }

        // Function to handle the click event on experiment cards
        function handleCardClick(card) {
            // Remove the "selected" class from all cards
            const experimentCards = document.querySelectorAll(experimentCardClass);
            experimentCards.forEach((card) => {
                card.classList.remove('selected');
            });

            // Add the "selected" class to the clicked card
            card.classList.add('selected');

            // Get the selected experiment from the data attribute
            const selectedExperiment = card.dataset.experiment;

            // Show the selected experiment environment
            showSelectedExperiment(selectedExperiment);
        }

        // Function to handle dragstart event for test tube
        function handleTestTubeDragStart(event) {
            // Set the data being dragged (in this case, the ID of the item and the image URL)
            event.dataTransfer.setData('text/plain', JSON.stringify({
                itemId: testTubeId,
                imageUrl: 'https://cdn-icons-png.flaticon.com/512/8586/8586401.png'
            }));
            isTestTubeDragged = true; // Set the flag to true when the test tube is dragged
            isEthanoicAcidDragged = false;
        }

        // Function to handle dragstart event for ethanoic acid
        function handleEthanoicAcidDragStart(event) {
            // Prevent dragging the ethanoic acid when the test tube is not dragged
            if (!isTestTubeDragged || !isWaterDragged) {
                event.preventDefault();
            } else {
                // Set the data being dragged (in this case, the ID of the item and the image URL)
                event.dataTransfer.setData('text/plain', JSON.stringify({
                    itemId: ethanoicAcidId,
                    imageUrl: 'https://cdn-icons-png.flaticon.com/512/8586/8586447.png'
                }));
                isEthanoicAcidDragged = true; // Set the flag to true when ethanoic acid is dragged
                document.querySelector(shakeButtonClass).removeAttribute('disabled');
            }
        }

        // Function to handle dragstart event for water
        function handleWaterDragStart(event) {
            // Prevent dragging water when the test tube is not dragged
            if (!isTestTubeDragged) {
                event.preventDefault();
            } else {
                // Set the data being dragged (in this case, the ID of the item and the image URL)
                event.dataTransfer.setData('text/plain', JSON.stringify({
                    itemId: waterId,
                    imageUrl: 'https://cdn-icons-png.flaticon.com/512/8586/8586388.png'
                }));
                isWaterDragged = true; // Set the flag to true when water is dragged
                document.querySelector(shakeButtonClass).removeAttribute('disabled');
            }
        }

        // Function to handle dragover event for the image holder
        function handleImageHolderDragOver(event) {
            // Prevent default behavior to allow drop
            event.preventDefault();
        }

        // Function to handle drop event for the image holder
        function handleImageHolderDrop(event) {
            // Prevent default behavior to avoid opening the dropped element as a URL
            event.preventDefault();

            // Get the data of the dragged item
            const draggedData = JSON.parse(event.dataTransfer.getData('text'));

            // Check if the dragged item is test tube
            if (draggedData.itemId === testTubeId) {
                // Remove any existing image elements from the image holder
                while (imageHolder1.firstChild) {
                    imageHolder1.removeChild(imageHolder1.firstChild);
                }

                // Create an image element and set the image source to the dragged item's image URL
                const imageElement = document.createElement('img');
                imageElement.src = draggedData.imageUrl;
                imageElement.style.height = '100%'; // Adjust image size to fill the image-holder

                // Append the new image element to the image holder
                imageHolder1.appendChild(imageElement);
                console.log('image made')
            }
        }

        // Function to handle drop event for the image holder with ethanoic acid and water
        function handleImageHolderWithEthanoicAcidWaterDrop(event) {
            // Prevent default behavior to avoid opening the dropped element as a URL
            event.preventDefault();

            // Get the data of the dragged item
            const draggedData = JSON.parse(event.dataTransfer.getData('text'));

            // Check if the dragged item is water or ethanoic acid
            if (draggedData.itemId === waterId || draggedData.itemId === ethanoicAcidId) {
                // Remove any existing image elements from the image holder
                while (imageHolder1.firstChild) {
                    imageHolder1.removeChild(imageHolder1.firstChild);
                }

                // Create an image element and set the image source to the dragged item's image URL
                const imageElement = document.createElement('img');
                imageElement.src = draggedData.imageUrl;
                imageElement.style.height = '100%'; // Adjust image size to fill the image-holder

                // Append the new image element to the image holder
                imageHolder1.appendChild(imageElement);

            }
        }

        // Function to show a custom popup with the provided message
        function showPopup(message) {
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.textContent = message;

            const closeButton = document.createElement('button');
            closeButton.className = 'close-btn';
            closeButton.textContent = 'X';

            closeButton.addEventListener('click', function () {
                // Close the popup when the "Close" button is clicked
                document.body.removeChild(popup);
            });

            popup.appendChild(closeButton);
            document.body.appendChild(popup);
        }

        // Get all the experiment cards
        const experimentCards = document.querySelectorAll(experimentCardClass);

        // Add click event listeners to the experiment cards
        experimentCards.forEach((card) => {
            card.addEventListener('click', function () {
                handleCardClick(card);
            });
        });

        // Get the image holder
        const dropbox1 = document.querySelector(dropBoxClass);
        const imageHolder1 = document.querySelector(imageHolderClass);

        // Get the items to be dragged
        const testTube1 = document.getElementById(testTubeId);
        const ethanoicAcid1 = document.getElementById(ethanoicAcidId);
        const water1 = document.getElementById(waterId);

        let isTestTubeDragged = false; // Flag to track if test tube is dragged
        let isEthanoicAcidDragged = false; // Flag to track if ethanoic acid is dragged
        let isWaterDragged = false; // Flag to track if Water is dragged

        // Add dragstart event listener to the test tube
        testTube1.addEventListener('dragstart', handleTestTubeDragStart);

        // Add dragstart event listener to ethanoic acid
        ethanoicAcid1.addEventListener('dragstart', handleEthanoicAcidDragStart);

        // Add dragstart event listener to water
        water1.addEventListener('dragstart', handleWaterDragStart);

        // Add dragover event listener to the image holder
        dropbox1.addEventListener('dragover', handleImageHolderDragOver);

        // Add drop event listener to the image holder
        dropbox1.addEventListener('drop', handleImageHolderDrop);

        // Add drop event listener to the image holder
        imageHolder1.addEventListener('drop', handleImageHolderWithEthanoicAcidWaterDrop);

        // Get the "shake" button
        const shakeButton = document.querySelector(shakeButtonClass);

        // Add click event listener to the "shake" button
        shakeButton.addEventListener('click', function () {
            // Show the custom popup with the appropriate message based on the flags
            if (isEthanoicAcidDragged) {
                // Show the shaking animation for the image
                imageHolder1.classList.add('shake-animation');

                // Delay the animation removal to allow the animation to complete
                setTimeout(function () {
                    imageHolder1.classList.remove('shake-animation');
                }, 1000);

                showPopup('Homogeneous Solution is Formed');
            }
            else if (isWaterDragged) {
                showPopup('It is Just Water. Drag Ethanoic Acid as well!');
            }
            else if (isTestTubeDragged) {
                showPopup('Put the water and Ethanoic Acid Before Shaking!');
            }
            else {
                showPopup('What to Shake?? No test tube is there. Please drag one out to the Experiment Area!');
            }
        });

    });
</script>